{% extends 'base.html.twig' %}

{% block title %}Liste des publications
{% endblock %}

{% block content %}
	<div class="container">
		{% for message in app.flashes('success') %}
			<div class="alert alert-dismissible alert-success">
				<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
				<h4 class="alert-heading">Thanks !</h4>
				<p class="mb-0">{{ message }}</p>
			</div>
		{% endfor %}
		<h1>Liste de nos articles</h1>
		{% for post in posts %}
			<div class=" mt-3 alert alert-dismissible alert-secondary">
				<h4 class="alert-heading">
					<a href="{{ path('app_post_show', { 'id': post.id }) }}">{{ post.title }}</a>
				</h4>
				<p class="mb-0">{{ post.content }}</p>
				<hr>
				<p>Date de cr√©ation de l'article :
					<b>{{ post.createdAt|date('d/m/Y') }}</b>
				</p>
				<small>
					Auteur :
					<em>{{ post.user.firstName }}
						{{ post.user.lastName }}</em>
				</small>
			</div>
		{% endfor %}
	</div>
{% endblock %}
